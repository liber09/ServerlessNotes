service: ServerlessNotes
frameworkVersion: '3'

provider:
  name: aws
  runtime: nodejs18.x
  profile: ${env:AWS_PROFILE}
  region: eu-north-1
  iam:
    role: ${env:AWS_IAM_ROLE}

plugins:
  - serverless-webpack

functions:
  createUser:
    handler: functions/user/createUser
    events:
      -httpApi:
        path: '/api/user/signup'
        method: POST
  login:
    handler: functions/user/login
    events:
      -httpApi:
        path: '/api/user/login'
        method: POST
  getNotes:
    handler: functions/notes/get
    events:
      -httpApi:
        path: '/api/notes'
        method: GET
  createNotes:
    handler: functions/notes/create
    events:
      -httpApi:
        path: '/api/notes'
        method: POST
  updateNotes:
    handler: functions/notes/update
    events:
      -httpApi:
        path: '/api/notes'
        method: PUT
  getNotes:
    handler: functions/notes/delete
    events:
      -httpApi:
        path: '/api/notes'
        method: DELETE